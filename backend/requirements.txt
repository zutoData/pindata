# =============================================================================
# 统一优化的 Requirements 文件
# 合并了 Backend 和 Dataflow 的依赖，基于成功的配置
# =============================================================================

# =============================================================================
# 基础数据处理包
# =============================================================================
numpy>=1.24.0,<2.0.0  # 保持1.x版本以兼容PyTorch
scipy
pandas>=1.5.0
tqdm

# =============================================================================
# Flask 后端框架
# =============================================================================
Flask==3.0.0
Flask-RESTful==0.3.10
Flask-CORS==4.0.0
Flask-JWT-Extended==4.5.3
flask_sqlalchemy

# =============================================================================
# 数据库相关
# =============================================================================
SQLAlchemy==2.0.31
psycopg2-binary==2.9.10
alembic==1.13.0
redis==5.0.1

# =============================================================================
# API 文档
# =============================================================================
flasgger==0.9.7.1

# =============================================================================
# 对象存储
# =============================================================================
minio==7.2.0

# =============================================================================
# 任务队列
# =============================================================================
celery==5.3.4
kombu==5.3.4

# =============================================================================
# 工具库
# =============================================================================
python-dotenv==1.0.0
marshmallow==3.19.0
marshmallow-sqlalchemy==0.29.0
python-multipart==0.0.6
pydantic
pyyaml
requests
cloudpickle
psutil

# =============================================================================
# AI/ML 核心包
# =============================================================================
torch>=2.2.0,<3.0.0
torchvision
torchaudio
transformers<=4.51.3
accelerate
datasets<=3.2
huggingface_hub>=0.19.0
modelscope>=1.9.0
sentencepiece
evaluate

# =============================================================================
# 文本处理和 NLP
# =============================================================================
spacy>=3.8.0
nltk
fasttext
kenlm
langkit
presidio_analyzer[transformers]
presidio_anonymizer
rapidfuzz
word2number

# =============================================================================
# LLM 集成
# =============================================================================
langchain
langchain-openai
langchain-google-genai
langchain-anthropic
langchain-community
openai>=1.0.0
anthropic>=0.8.0
google-generativeai
google-api-core
google-api-python-client
aisuite

# =============================================================================
# 文档解析
# =============================================================================
python-docx==1.1.0
python-pptx==0.6.23
PyPDF2==3.0.1
markitdown
trafilatura
lxml_html_clean
chonkie

# =============================================================================
# 图像处理
# =============================================================================
pillow>=9.0.0
pdf2image
pytesseract
opencv-python-headless>=4.8.0
scikit-image>=0.21.0

# =============================================================================
# 数据质量和分析
# =============================================================================
whylogs
datasketch
vendi-score==0.0.3

# =============================================================================
# 开发工具
# =============================================================================
pytest==7.4.3
pytest-cov==4.1.0
black==23.12.0
flake8==6.1.0
rich
colorlog
colorama
termcolor
pyfiglet

# =============================================================================
# 专用工具
# =============================================================================
func_timeout
sqlglot
math_verify
addict
appdirs
docstring_parser

# =============================================================================
# Web 和 API
# =============================================================================
fastapi
httpx 